<!DOCTYPE html>

<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Studio AV - Code Playground IA</title>

<link rel="stylesheet" href="../css/studio.css"> 
<link rel="stylesheet" href="../css/cut_timeline.css"> <link rel="stylesheet" href="../css/modalSystem.css">

<script src="https://cdn.tailwindcss.com"></script>
<script>
    tailwind.config = {
        theme: {
            extend: {
                colors: { 'akai-base': '#1e1e1e' },
                fontFamily: { sans: ['Inter', 'sans-serif'], mono: ['Consolas', 'monospace'] },
            }
        }
    }
</script>


</head>
<body>

<header>
    <div class="flex items-center">
        <span class="text-xl font-bold text-white mr-6">CODE/PLAYGROUND</span>
        <div id="mode-indicator" class="px-3 py-1 rounded text-xs font-bold bg-green-900 text-green-400 border border-green-700 transition-colors">
            MODE: CODING AI
        </div>
        <span class="ml-4 text-xs text-gray-500 border-l border-gray-600 pl-4 uppercase tracking-widest">HTML/CSS/JS</span>
    </div>

    <div class="space-x-4 flex items-center pr-4">
         <div class="text-xs text-gray-400 flex items-center space-x-2 border-r border-gray-700 pr-4">
            <button id="zoom-out-btn" class="bg-gray-800 w-6 h-6 rounded hover:bg-gray-700">-</button>
            <span id="zoom-level-display">1.0x</span>
            <button id="zoom-in-btn" class="bg-gray-800 w-6 h-6 rounded hover:bg-gray-700">+</button>
         </div>
         
         <button id="toggle-tools-btn" class="flex items-center gap-2 bg-gray-800 border border-gray-600 px-3 py-1 rounded text-white text-xs hover:bg-gray-700 transition-colors">
            <span>ğŸ¤–</span> AI ASSISTANTS
         </button>

         <button id="run-btn" class="bg-green-600 px-3 py-1 rounded text-white text-xs hover:bg-green-700 font-bold">RUN CODE</button>
    </div>
</header>


<div id="workspace">

<!-- ASIDE GAUCHE : FICHIERS / ASSETS (Auto-Collapse) -->
<aside class="collapsed-aside left-aside">
    <div class="aside-trigger">
        <span class="trigger-icon">ğŸ“</span>
        <span class="vertical-text">ASSETS</span>
    </div>
    
    <div class="aside-content">
        <div class="p-3 border-b border-gray-700 bg-[#1a1a1a] flex justify-between items-center">
            <h2 class="text-white font-bold text-sm uppercase">File Manager</h2>
            <!-- Bouton pour crÃ©er un nouveau fichier -->
            <button class="bg-blue-600 text-white text-[10px] px-2 py-1 rounded hover:bg-blue-500 transition-colors">NEW</button>
        </div>
        <div class="flex-1 overflow-y-auto p-2">
            <ul id="file-list" class="space-y-1">
                <!-- Les fichiers seront injectÃ©s ici par JS, mais voici la structure cible avec les icÃ´nes CRUD -->
                
                <li data-filename="index.html" class="file-item file-active p-2 rounded cursor-pointer border-l-2 border-blue-500 flex justify-between items-center bg-[#252525]">
                    <span class="text-xs text-white font-bold">index.html</span>
                    <div class="file-actions space-x-1 opacity-100 group-hover:opacity-100 transition-opacity">
                        <button title="Enregistrer" data-action="save" class="text-green-500 hover:text-green-300">ğŸ’¾</button>
                        <button title="Supprimer" data-action="delete" class="text-red-500 hover:text-red-300">ğŸ—‘ï¸</button>
                    </div>
                </li>

                <li data-filename="style.css" class="file-item p-2 hover:bg-[#333] rounded cursor-pointer border-l-2 border-transparent flex justify-between items-center group">
                    <span class="text-xs text-white">style.css</span>
                    <div class="file-actions space-x-1 opacity-0 group-hover:opacity-100 transition-opacity">
                        <button title="Enregistrer" data-action="save" class="text-green-500 hover:text-green-300">ğŸ’¾</button>
                        <button title="Supprimer" data-action="delete" class="text-red-500 hover:text-red-300">ğŸ—‘ï¸</button>
                    </div>
                </li>
                <li data-filename="script.js" class="file-item p-2 hover:bg-[#333] rounded cursor-pointer border-l-2 border-transparent flex justify-between items-center group">
                    <span class="text-xs text-white">script.js</span>
                    <div class="file-actions space-x-1 opacity-0 group-hover:opacity-100 transition-opacity">
                        <button title="Enregistrer" data-action="save" class="text-green-500 hover:text-green-300">ğŸ’¾</button>
                        <button title="Supprimer" data-action="delete" class="text-red-500 hover:text-red-300">ğŸ—‘ï¸</button>
                    </div>
                </li>
                <li data-filename="database.json" class="file-item p-2 hover:bg-[#333] rounded cursor-pointer border-l-2 border-transparent flex justify-between items-center group">
                    <span class="text-xs text-white">database.json</span>
                    <div class="file-actions space-x-1 opacity-0 group-hover:opacity-100 transition-opacity">
                        <button title="Enregistrer" data-action="save" class="text-green-500 hover:text-green-300">ğŸ’¾</button>
                        <button title="Supprimer" data-action="delete" class="text-red-500 hover:text-red-300">ğŸ—‘ï¸</button>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</aside>

<!-- CENTRE : Pas de changement ici -->
<div id="center-area" class="bg-[#0d0d0d] flex-1 flex flex-col relative z-0">
    
    <div id="code-preview-split" class="flex-1 flex border-b border-gray-700">
        
        <div id="code-editor-area" class="w-1/2 border-r border-gray-800 flex flex-col relative">
            <div class="h-8 bg-[#1a1a1a] border-b border-gray-700 flex items-center gap-4 px-3 text-xs shrink-0">
                <button id="tab-html" class="text-blue-400 font-bold border-b border-blue-400 pb-1">HTML</button>
                <button id="tab-css" class="text-gray-400 hover:text-white">CSS</button>
                <button id="tab-js" class="text-gray-400 hover:text-white">JavaScript</button>
                <button id="tab-json" class="text-gray-400 hover:text-white">JSON</button>
            </div>
            <textarea id="html-source" class="flex-1 bg-[#111] font-mono text-sm text-green-400 p-2 resize-none outline-none" placeholder="<!-- Votre HTML ici -->">


<div style="color:white;">Hello AI Studio!</div>
</textarea>
</div>

        <div id="live-render-area" class="w-1/2 relative flex items-center justify-center bg-white/5">
            <!-- CORRECTION: Suppression de "allow-same-origin" pour des raisons de sÃ©curitÃ© Iframe -->
            <iframe id="live-preview-iframe" class="w-full h-full bg-white" sandbox="allow-scripts"></iframe>
            <div class="absolute top-2 right-2 z-10 bg-black/50 px-2 rounded text-red-500 text-xs font-bold border border-red-900">RENDER OUTPUT</div>
        </div>
    </div>

    <div id="ai-terminal" class="h-40 bg-[#151515] relative overflow-hidden flex flex-col border-t border-gray-700 shrink-0">
        <div class="h-6 bg-[#1a1a1a] flex items-center px-3 text-xs font-bold text-gray-400 border-b border-gray-700">
            <span class="text-green-500 mr-2">TERMINAL ></span> AI Console
        </div>
        
        <div id="terminal-output" class="flex-1 p-2 font-mono text-[10px] text-gray-300 overflow-y-auto whitespace-pre-wrap">
            > Initializing AI Model... (Latency: 5ms)<br>
            > Type 'help' or request code structure assistance.
        </div>
        
        <div class="h-8 bg-black flex items-center px-2 shrink-0">
            <span class="text-green-400 font-mono text-xs">></span>
            <input type="text" id="terminal-input" class="flex-1 bg-black text-white font-mono text-xs ml-2 outline-none" placeholder="Enter AI command or prompt...">
            <button class="bg-gray-700 text-white text-xs px-2 py-1 rounded hover:bg-gray-600">Send</button>
        </div>
    </div>

</div>

<!-- ASIDE DROITE : CONFIG IA (Ã‰purÃ©) -->
<aside class="collapsed-aside right-aside">
    <div class="aside-trigger">
        <span class="trigger-icon">âš™ï¸</span>
        <span class="vertical-text">AI CONFIG</span>
    </div>

    <div class="aside-content">
        <div class="p-3 border-b border-gray-700 bg-[#1a1a1a]">
            <h2 class="text-white font-bold text-sm uppercase">AI & Project Settings</h2>
        </div>
        
        <div class="flex-1 overflow-y-auto p-4 space-y-4">
            <h3 class="text-xs font-bold text-gray-500">AI Assistance</h3>
            <p class="text-[10px] text-gray-400">Configurez le rÃ´le de l'IA (Ex: Front-end, Database, UX).</p>

            <select class="w-full bg-black border border-gray-600 text-white text-xs p-2 rounded">
                <option>Front-end Architect</option>
                <option>Database Handler</option>
                <option>Full-Stack Debugger</option>
            </select>

            <h3 class="text-xs font-bold text-gray-500 pt-4 border-t border-gray-800">Recording</h3>
            <p class="text-[10px] text-gray-400">Capture l'Ã©cran de prÃ©visualisation en vidÃ©o.</p>
            <button class="w-full bg-red-900/50 text-red-400 py-2 rounded text-xs font-bold hover:bg-red-900">START RECORD (Code Output)</button>
        </div>
    </div>
</aside>
</div>
<footer id="studio-footer">
    <a href="media_data.html" class="nav-tab">
        <span class="nav-icon">ğŸ“</span> MEDIA
    </a>
    <a href="code_playground.html" class="nav-tab active">
        <span class="nav-icon">ğŸ’»</span> CODE/AI
    </a>
    <a href="editor.html" class="nav-tab">
        <span class="nav-icon">ğŸ¬</span> EDIT
    </a>
    <a href="fusion_visuel.html" class="nav-tab">
        <span class="nav-icon">ğŸ¨</span> FUSION/AI
    </a>
    <a href="fairlight_audio.html" class="nav-tab">
        <span class="nav-icon">ğŸµ</span> FAIRLIGHT
    </a>
    <a href="delivery.html" class="nav-tab">
        <span class="nav-icon">ğŸš€</span> DELIVER
    </a>
</footer>

<script src="http://localhost:3145/socket.io/socket.io.js"></script>
<script type="module" src="../js/code_playground.js"></script>
</body>
</html>

