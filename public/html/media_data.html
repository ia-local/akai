<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Studio AV - Media Pool & System</title>
    
    <link rel="stylesheet" href="../css/studio.css">
    <link rel="stylesheet" href="../css/modalSystem.css">
    <link rel="stylesheet" href="../css/QuantumComputeIndex.css">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: { 'akai-base': '#1e1e1e', 'system-blue': '#3b82f6' },
                    fontFamily: { sans: ['Inter', 'sans-serif'], mono: ['Consolas', 'monospace'] },
                }
            }
        }
    </script>
    <style>
        /* Styles sp√©cifiques au Desktop Grid */
        .desktop-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 2rem;
            padding: 2rem;
        }
        .desktop-icon {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            transition: transform 0.2s, filter 0.2s;
        }
        .desktop-icon:hover {
            transform: scale(1.05);
            filter: drop-shadow(0 0 10px rgba(59, 130, 246, 0.5));
        }
        .icon-img {
            width: 64px;
            height: 64px;
            background: #2a2a2a;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            margin-bottom: 0.5rem;
            border: 1px solid #444;
        }
        .icon-label {
            font-size: 0.75rem;
            color: #ccc;
            text-align: center;
            font-weight: 500;
            text-shadow: 0 1px 2px rgba(0,0,0,0.8);
        }
        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            position: absolute;
            top: -2px;
            right: -2px;
            border: 2px solid #2a2a2a;
        }
        .status-online { background-color: #4ade80; }
        .status-offline { background-color: #ef4444; }
    </style>
</head>
<body>

    <header>
        <div class="flex items-center">
            <span class="text-xl font-bold text-white mr-6">Studio AV (v2.2)</span>
            <div id="mode-indicator" class="px-3 py-1 rounded text-xs font-bold bg-blue-900 text-blue-400 border border-blue-700 transition-colors">
                SYSTEM: ONLINE
            </div>
            <span class="ml-4 text-xs text-gray-500 border-l border-gray-600 pl-4 uppercase tracking-widest">Media & Devices</span>
        </div>

        <div class="space-x-4 flex items-center pr-4">
             <div class="text-xs text-gray-400 flex items-center space-x-2 border-r border-gray-700 pr-4">
                <button id="zoom-out-btn" class="bg-gray-800 w-6 h-6 rounded hover:bg-gray-700">-</button>
                <span id="zoom-level-display">1.0x</span>
                <button id="zoom-in-btn" class="bg-gray-800 w-6 h-6 rounded hover:bg-gray-700">+</button>
             </div>
             
             <button id="toggle-tools-btn" class="flex items-center gap-2 bg-gray-800 border border-gray-600 px-3 py-1 rounded text-white text-xs hover:bg-gray-700 transition-colors">
                <span>ü§ñ</span> SYSTEM LOGS
             </button>

             <button id="refresh-btn" class="bg-blue-600 px-3 py-1 rounded text-white text-xs hover:bg-blue-700 font-bold">REFRESH</button>
        </div>
    </header>

    <div id="workspace">
        
        <aside class="collapsed-aside left-aside">
            <div class="aside-trigger">
                <span class="trigger-icon">üìÅ</span>
                <span class="vertical-text">BROWSER</span>
            </div>
            
            <div class="aside-content">
                <div class="p-3 border-b border-gray-700 bg-[#1a1a1a]">
                    <h2 class="text-white font-bold text-sm uppercase">Local Storage</h2>
                </div>
                
            <div class="flex-1 overflow-y-auto p-2">
    <ul class="space-y-1 folder-tree" id="file-browser">
        <li class="folder-item" data-category="video">
            <span class="text-blue-400">‚ñ∂</span> Videos
        </li>
        <li class="folder-item" data-category="audio">
            <span class="text-green-400">‚ô´</span> Audio
        </li>
        <li class="folder-item" data-category="image">
            <span class="text-yellow-400">üñºÔ∏è</span> Images
        </li>
        <li class="folder-item" data-category="script">
            <span class="text-purple-400">üìú</span> Scripts
        </li>
        <li class="folder-item" data-category="ascii">
            <span class="text-pink-500 font-mono">#</span> ASCII / Uni
        </li>
    </ul>
            </div>
            </div>
        </aside>

        <div id="center-area" class="bg-[#0d0d0d] flex-1 flex flex-col relative z-0">
            
            <div class="absolute inset-0 opacity-10 pointer-events-none" 
                 style="background-image: radial-gradient(#333 1px, transparent 1px); background-size: 20px 20px;">
            </div>

            <div class="desktop-grid" id="desktop-container">
                
                <div class="desktop-icon" data-module="server">
                    <div class="icon-img relative">
                        üñ•Ô∏è
                        <div class="status-dot status-online"></div>
                    </div>
                    <span class="icon-label">Data Server</span>
                </div>

                <div class="desktop-icon" data-module="midi">
                    <div class="icon-img relative">
                        üéõÔ∏è
                        <div class="status-dot status-online" id="status-midi"></div>
                    </div>
                    <span class="icon-label">MPD 218</span>
                </div>

                <div class="desktop-icon" data-module="keyboard">
                    <div class="icon-img">
                        ‚å®Ô∏è
                    </div>
                    <span class="icon-label">Key Mapper</span>
                </div>

                <div class="desktop-icon" data-module="tensor">
                    <div class="icon-img">
                        üßä
                    </div>
                    <span class="icon-label">Tensor Core</span>
                </div>

                <div class="desktop-icon" data-module="quantum">
                    <div class="icon-img">
                        ‚öõÔ∏è
                    </div>
                    <span class="icon-label">Quantum CPU</span>
                </div>

                <div class="desktop-icon" data-module="ai">
                    <div class="icon-img">
                        üß†
                    </div>
                    <span class="icon-label">Neural Agent</span>
                </div>

            </div>

        </div>

        <aside id="right-panel" class="collapsed-aside right-aside">
            <div class="aside-trigger">
                <span class="trigger-icon">‚ÑπÔ∏è</span>
                <span class="vertical-text">INFO</span>
            </div>

            <div class="aside-content">
                <div class="panel-header p-3 border-b border-gray-700 bg-[#1a1a1a]">
                    <span class="text-white font-bold text-xs uppercase">Module Info</span>
                </div>
                <div class="p-4 text-xs text-gray-400" id="inspector-content">
                    <p>Select a module to view details.</p>
                </div>
            </div>
        </aside>
    </div>

    <footer id="studio-footer">
        <a href="media_data.html" class="nav-tab active">
            <span class="nav-icon">üìÅ</span> MEDIA
        </a>
        <a href="code_timeline.html" class="nav-tab">
            <span class="nav-icon">‚úÇÔ∏è</span> CODE
        </a>
        <a href="../index.html" class="nav-tab">
            <span class="nav-icon">üé¨</span> EDIT
        </a>
        <a href="fusion_visuel.html" class="nav-tab">
            <span class="nav-icon">üé®</span> FUSION
        </a>
        <a href="fairlight_audio.html" class="nav-tab">
            <span class="nav-icon">üéµ</span> FAIRLIGHT
        </a>
        <a href="delivery.html" class="nav-tab">
            <span class="nav-icon">üöÄ</span> DELIVER
        </a>
    </footer>
    
    <script src="/socket.io/socket.io.js"></script>
    <div id="generic-modal-overlay" class="c-modal-overlay"></div>

    <script type="module" src="../js/media_desktop.js"></script>
</body>
</html>